{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport _classCallCheck from \"@babel/runtime/helpers/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/createClass\";\nimport _inherits from \"@babel/runtime/helpers/inherits\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/getPrototypeOf\";\nvar _jsxFileName = \"C:\\\\Users\\\\jespe\\\\Documents\\\\Android-Chat\\\\components\\\\CustomActions.js\";\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport * as Permissions from 'expo-permissions';\nimport * as ImagePicker from 'expo-image-picker';\nimport * as Location from 'expo-location';\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport TouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\nimport View from \"react-native-web/dist/exports/View\";\n\nvar CustomActions = function (_React$Component) {\n  _inherits(CustomActions, _React$Component);\n\n  var _super = _createSuper(CustomActions);\n\n  function CustomActions() {\n    var _this;\n\n    _classCallCheck(this, CustomActions);\n\n    _this = _super.call(this);\n\n    _this.imagePicker = function _callee() {\n      var _await$Permissions$as, status, result, imageUrl;\n\n      return _regeneratorRuntime.async(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              _context.next = 2;\n              return _regeneratorRuntime.awrap(Permissions.askAsync(Permissions.MEDIA_LIBRARY));\n\n            case 2:\n              _await$Permissions$as = _context.sent;\n              status = _await$Permissions$as.status;\n              _context.prev = 4;\n\n              if (!(status === 'granted')) {\n                _context.next = 14;\n                break;\n              }\n\n              _context.next = 8;\n              return _regeneratorRuntime.awrap(ImagePicker.launchImageLibraryAsync({\n                mediaTypes: 'Images'\n              }).catch(function (error) {\n                return console.log(error);\n              }));\n\n            case 8:\n              result = _context.sent;\n\n              if (result.cancelled) {\n                _context.next = 14;\n                break;\n              }\n\n              _context.next = 12;\n              return _regeneratorRuntime.awrap(_this.uploadImageFetch(result.uri));\n\n            case 12:\n              imageUrl = _context.sent;\n\n              _this.props.onSend({\n                image: jw - chat - f1039.appspot.com\n              });\n\n            case 14:\n              _context.next = 19;\n              break;\n\n            case 16:\n              _context.prev = 16;\n              _context.t0 = _context[\"catch\"](4);\n              console.log(_context.t0.message);\n\n            case 19:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, null, null, [[4, 16]], Promise);\n    };\n\n    _this.uploadImageFetch = function _callee2() {\n      var blob, ref, snapshot;\n      return _regeneratorRuntime.async(function _callee2$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              _context2.next = 2;\n              return _regeneratorRuntime.awrap(new Promise(function (resolve, reject) {\n                var xhr = new XMLHttpRequest();\n\n                xhr.onload = function () {\n                  resolve(xhr.response);\n                };\n\n                xhr.onerror = function (e) {\n                  console.log(e);\n                  reject(new TypeError('Network request failed'));\n                };\n\n                xhr.responseType = 'blob';\n                xhr.open('GET', uri, true);\n                xhr.send(null);\n              }));\n\n            case 2:\n              blob = _context2.sent;\n              ref = firebase.storage().ref().child('my-image');\n              _context2.next = 6;\n              return _regeneratorRuntime.awrap(ref.put(blob));\n\n            case 6:\n              snapshot = _context2.sent;\n              blob.close();\n              _context2.next = 10;\n              return _regeneratorRuntime.awrap(snapshot.ref.getDownloadURL());\n\n            case 10:\n              return _context2.abrupt(\"return\", _context2.sent);\n\n            case 11:\n            case \"end\":\n              return _context2.stop();\n          }\n        }\n      }, null, null, null, Promise);\n    };\n\n    _this.takePhoto = function _callee3() {\n      var _await$Permissions$as2, status, result;\n\n      return _regeneratorRuntime.async(function _callee3$(_context3) {\n        while (1) {\n          switch (_context3.prev = _context3.next) {\n            case 0:\n              _context3.next = 2;\n              return _regeneratorRuntime.awrap(Permissions.askAsync(Permissions.MEDIA_LIBRARY, Permissions.CAMERA));\n\n            case 2:\n              _await$Permissions$as2 = _context3.sent;\n              status = _await$Permissions$as2.status;\n\n              if (!(status === 'granted')) {\n                _context3.next = 9;\n                break;\n              }\n\n              _context3.next = 7;\n              return _regeneratorRuntime.awrap(ImagePicker.launchCameraAsync({\n                mediaTypes: 'Camera'\n              }).catch(function (error) {\n                return console.log(error);\n              }));\n\n            case 7:\n              result = _context3.sent;\n\n              if (!result.cancelled) {\n                _this.setState({\n                  image: result\n                });\n              }\n\n            case 9:\n            case \"end\":\n              return _context3.stop();\n          }\n        }\n      }, null, null, null, Promise);\n    };\n\n    _this.getLocation = function _callee4() {\n      var _await$Permissions$as3, status, result;\n\n      return _regeneratorRuntime.async(function _callee4$(_context4) {\n        while (1) {\n          switch (_context4.prev = _context4.next) {\n            case 0:\n              _context4.next = 2;\n              return _regeneratorRuntime.awrap(Permissions.askAsync(Permissions.LOCATION));\n\n            case 2:\n              _await$Permissions$as3 = _context4.sent;\n              status = _await$Permissions$as3.status;\n\n              if (!(status === 'granted')) {\n                _context4.next = 9;\n                break;\n              }\n\n              _context4.next = 7;\n              return _regeneratorRuntime.awrap(Location.getCurrentPositionAsync({}));\n\n            case 7:\n              result = _context4.sent;\n\n              if (result) {\n                _this.setState({\n                  location: result\n                });\n              }\n\n            case 9:\n            case \"end\":\n              return _context4.stop();\n          }\n        }\n      }, null, null, null, Promise);\n    };\n\n    _this.onActionPress = function () {\n      var options = [\"Choose From Library\", \"Take Picture\", \"Send Location\", \"Cancel\"];\n      var cancelButtonIndex = options.length - 1;\n\n      _this.context.actionSheet().showActionSheetWithOptions({\n        options: options,\n        cancelButtonIndex: cancelButtonIndex\n      }, function _callee5(buttonIndex) {\n        return _regeneratorRuntime.async(function _callee5$(_context5) {\n          while (1) {\n            switch (_context5.prev = _context5.next) {\n              case 0:\n                _context5.t0 = buttonIndex;\n                _context5.next = _context5.t0 === 0 ? 3 : _context5.t0 === 1 ? 5 : _context5.t0 === 2 ? 7 : 9;\n                break;\n\n              case 3:\n                console.log(\"user wants to pick an image\");\n                return _context5.abrupt(\"return\", _this.imagePicker());\n\n              case 5:\n                console.log(\"user wants to take a photo\");\n                return _context5.abrupt(\"return\", _this.takePhoto());\n\n              case 7:\n                console.log(\"user wants to get their location\");\n                return _context5.abrupt(\"return\", _this.getLocation());\n\n              case 9:\n              case \"end\":\n                return _context5.stop();\n            }\n          }\n        }, null, null, null, Promise);\n      });\n    };\n\n    _this.state = {\n      image: null,\n      location: null\n    };\n    return _this;\n  }\n\n  _createClass(CustomActions, [{\n    key: \"render\",\n    value: function render() {\n      return React.createElement(TouchableOpacity, {\n        style: [styles.container],\n        onPress: this.onActionPress,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 128,\n          columnNumber: 3\n        }\n      }, React.createElement(View, {\n        style: [styles.wrapper, this.props.wrapperStyle],\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 129,\n          columnNumber: 5\n        }\n      }, React.createElement(Text, {\n        style: [styles.iconText, this.props.iconTextStyle],\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 131,\n          columnNumber: 5\n        }\n      }, \"+\")));\n    }\n  }]);\n\n  return CustomActions;\n}(React.Component);\n\nexport { CustomActions as default };\nvar styles = StyleSheet.create({\n  container: {\n    width: 26,\n    height: 26,\n    marginLeft: 10,\n    marginBottom: 10\n  },\n  wrapper: {\n    borderRadius: 13,\n    borderColor: 'white',\n    borderWidth: 2,\n    flex: 1,\n    backgroundColor: '#FF364E'\n  },\n  iconText: {\n    color: 'white',\n    fontWeight: 'bold',\n    fontSize: '17',\n    backgroundColor: 'transparent',\n    textAlign: 'center'\n  }\n});\nCustomActions.contextTypes = {\n  actionSheet: PropTypes.func\n};","map":{"version":3,"sources":["C:/Users/jespe/Documents/Android-Chat/components/CustomActions.js"],"names":["React","PropTypes","Permissions","ImagePicker","Location","CustomActions","imagePicker","askAsync","MEDIA_LIBRARY","status","launchImageLibraryAsync","mediaTypes","catch","error","console","log","result","cancelled","uploadImageFetch","uri","imageUrl","props","onSend","image","jw","chat","f1039","appspot","com","message","Promise","resolve","reject","xhr","XMLHttpRequest","onload","response","onerror","e","TypeError","responseType","open","send","blob","ref","firebase","storage","child","put","snapshot","close","getDownloadURL","takePhoto","CAMERA","launchCameraAsync","setState","getLocation","LOCATION","getCurrentPositionAsync","location","onActionPress","options","cancelButtonIndex","length","context","actionSheet","showActionSheetWithOptions","buttonIndex","state","styles","container","wrapper","wrapperStyle","iconText","iconTextStyle","Component","StyleSheet","create","width","height","marginLeft","marginBottom","borderRadius","borderColor","borderWidth","flex","backgroundColor","color","fontWeight","fontSize","textAlign","contextTypes","func"],"mappings":"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","sourcesContent":["import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport * as Permissions from 'expo-permissions';\r\nimport * as ImagePicker from 'expo-image-picker';\r\nimport * as Location from 'expo-location';\r\n// import MapView from 'react-native-maps';\r\n\r\nimport { StyleSheet, Text, TouchableOpacity, View } from 'react-native';\r\n\r\n\r\nexport default class CustomActions extends React.Component {\r\n   constructor(){\r\n    super();\r\n\r\n    this.state = {\r\n        image: null,\r\n        location: null\r\n      }\r\n    }\r\n\r\n    \r\n\r\n\r\nimagePicker = async () => {\r\n   const { status } = await Permissions.askAsync(Permissions.MEDIA_LIBRARY);\r\n  try {\r\n   if(status === 'granted') {\r\n     let result = await ImagePicker.launchImageLibraryAsync({\r\n       mediaTypes: 'Images',\r\n     }).catch(error => console.log(error));\r\n\r\n     if (!result.cancelled) {\r\n      const imageUrl = await this.uploadImageFetch(result.uri);\r\n      this.props.onSend({ image: jw-chat-f1039.appspot.com });\r\n       }  \r\n     } \r\n    }catch (error) {\r\n    console.log(error.message);\r\n   }\r\n  };\r\n\r\nuploadImageFetch = async () => {\r\n const blob = await new Promise((resolve, reject) => {\r\n  const xhr = new XMLHttpRequest();\r\n  xhr.onload = function() {\r\n    resolve(xhr.response);\r\n  };\r\n  xhr.onerror = function(e) {\r\n    console.log(e);\r\n    reject(new TypeError('Network request failed'));\r\n  };\r\n  xhr.responseType = 'blob';\r\n  xhr.open('GET', uri, true);\r\n  xhr.send(null);\r\n});\r\n\r\nconst ref = firebase.storage().ref().child('my-image');\r\nconst snapshot = await ref.put(blob);\r\n\r\nblob.close();\r\n\r\nreturn await snapshot.ref.getDownloadURL();\r\n}\r\n\r\ntakePhoto = async () => {\r\n  const { status } = await Permissions.askAsync(Permissions.MEDIA_LIBRARY, Permissions.CAMERA);\r\n\r\n  if(status === 'granted') {\r\n    let result = await ImagePicker.launchCameraAsync({\r\n      mediaTypes: 'Camera',\r\n    }).catch(error => console.log(error));\r\n\r\n    if (!result.cancelled) {\r\n      this.setState({\r\n        image: result\r\n      });  \r\n    }\r\n\r\n  }\r\n}\r\n \r\ngetLocation = async () => {\r\n  const { status } = await Permissions.askAsync(Permissions.LOCATION);\r\n  if(status === 'granted') {\r\n    let result = await Location.getCurrentPositionAsync({});\r\n\r\n    if (result) {\r\n      this.setState({\r\n        location: result\r\n      });\r\n    }\r\n  }\r\n}\r\n\r\nonActionPress = () => {\r\n  const options = [\r\n    \"Choose From Library\",\r\n    \"Take Picture\",\r\n    \"Send Location\",\r\n    \"Cancel\",\r\n  ];\r\n  const cancelButtonIndex = options.length - 1;\r\n  this.context.actionSheet().showActionSheetWithOptions(\r\n    {\r\n      options,\r\n      cancelButtonIndex,\r\n    },\r\n    async (buttonIndex) => {\r\n      switch (buttonIndex) {\r\n        case 0:\r\n          console.log(\"user wants to pick an image\");\r\n          return this.imagePicker();\r\n        case 1:\r\n          console.log(\"user wants to take a photo\");\r\n          return this.takePhoto();\r\n        case 2:\r\n          console.log(\"user wants to get their location\");\r\n          return this.getLocation();\r\n      }\r\n    }\r\n  );\r\n};\r\n\r\n\r\nrender() {\r\n\r\nreturn(\r\n  <TouchableOpacity style={[styles.container]} onPress={this.onActionPress}>\r\n    <View style={[styles.wrapper, this.props.wrapperStyle]}>\r\n\r\n    <Text style={[styles.iconText, this.props.iconTextStyle]}>+</Text>\r\n    </View>\r\n  </TouchableOpacity>\r\n)\r\n}\r\n\r\n}\r\n\r\nconst styles = StyleSheet.create({\r\n  container: {\r\n    width: 26,\r\n    height: 26,\r\n    marginLeft: 10,\r\n    marginBottom: 10,\r\n  },\r\n  wrapper: {\r\n    borderRadius: 13,\r\n    borderColor: 'white',\r\n    borderWidth: 2,\r\n    flex: 1,\r\n    backgroundColor: '#FF364E',\r\n  },\r\n  iconText: {\r\n    color: 'white',\r\n    fontWeight: 'bold',\r\n    fontSize: '17',\r\n    backgroundColor: 'transparent',\r\n    textAlign: 'center',\r\n  },\r\n});\r\n\r\nCustomActions.contextTypes = {\r\n  actionSheet: PropTypes.func,\r\n };\r\n"]},"metadata":{},"sourceType":"module"}